<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brgy. Manuyo Uno Health Center</title>
  <link rel="icon" type="image/webp" href="/frontend/image/logo.webp">

  <link rel="stylesheet" href="/frontend/patient/navigation.css">
  <link rel="stylesheet" href="/frontend/patient/index.css">
  <link rel="stylesheet" href="/frontend/patient/footer.css">

  <link rel="stylesheet" href="/frontend/patient/schedule.css">
  <script src="/Back-end/patient/Js/schedule.js" defer></script>

 <script src="/Back-end/patient/Js/navigation.js" defer></script>
  <script src="/Back-end/patient/Js/index.js"></script>
</head>
<body defer> 

  <nav class="navbar" id="navbar">
    <div class="nav-container">
      <div class="logo-container" id="logoContainer">
        <img src="/frontend/image/logo.webp" alt="Logo" class="logo" />
        <span class="brand-name">Barangay Manuyo Uno <br> Health Center</span>
      </div>
      
      <ul class="nav-menu" id="navMenu">
        <li class="nav-item"><a href="/" class="nav-link">Home</a></li>
        
        <li class="nav-item" id="scheduleOrAppointment">
             <a href="/frontend/patient/html/schedule.html" class="nav-link active">Schedule</a>
        </li>
        
        <li class="nav-item"><a href="/frontend/patient/html/about.html" class="nav-link">About</a></li>
        <li class="nav-item"><a href="/frontend/patient/html/services.html" class="nav-link">Services</a></li>
        <li class="nav-item"><a href="/frontend/patient/html/contactus.html" class="nav-link">Contact Us</a></li>
        
        <li class="nav-item" id="authLink">
              <a href="/frontend/patient/html/login.html" class="nav-link">Login</a>
        </li>
      </ul>
      
      <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </nav>



  <section class="container" id="schedule">
        <div class="calendar-container">
            <div class="calendar-header">
                <div class="calendar-nav">
                    <button class="nav-btn" id="prevBtn">‹</button>
                    <div class="month-year" id="monthYear"></div>
                    <button class="nav-btn" id="nextBtn">›</button>
                </div>
            </div>
            <div class="calendar-grid">
                <div class="weekdays">
                    <div class="weekday">Sun</div>
                    <div class="weekday">Mon</div>
                    <div class="weekday">Tue</div>
                    <div class="weekday">Wed</div>
                    <div class="weekday">Thu</div>
                    <div class="weekday">Fri</div>
                    <div class="weekday">Sat</div>
                </div>
                <div class="days" id="daysGrid"></div>
            </div>
        </div>

        <div class="time-slots-container" id="timeSlotsContainer">
            <div class="time-slots-header">
                <button class="exit-btn" id="exitBtn">×</button>
                <h3>Available Time Slots</h3>
                <div class="selected-date" id="selectedDate"></div>
            </div>
            <div class="time-slots" id="timeSlots">
                <!-- Time slots will be generated here -->
            </div>
        </div>
    </section>
    
 <footer>
   <div class="footer-container"> 
    <div class="copyright">
  <img src="/frontend/image/copyright.webp" alt=""> 2025 Barangay Manuyo Uno
    All rights reserved. 
    </div>
  <div class="location">
      <h4>Location</h4>
        <div class="loc-info">
          <img src="/frontend/image/map.webp" alt="Location icon">
          <p>123 Manuyo Uno,  Las Piñas,<br> Metro Manila, Philippines</p>
        </div>
  </div>
  <div class="Contact">
      <h4>Contact Us</h4>
        <div class="cont-info">
          <img src="/frontend/image/phone.webp" alt="Contact icon">
          <p>+1 1234 567819</p>
        </div>
  </div>
    <div class="Socials">
      <h4>Socials</h4>
      <div class="social-icons">
        <a href="#"><img src="/frontend/image/facebook.webp" alt=""><i class="#"></i></a>
        <a href="#"><img src="/frontend/image/gmail.webp" alt=""><i class="#"></i></a>
      </div>
    </div>
     <div class="Hours">
      <h4>Hours</h4>
        <div class="Hours-info">
          <img src="/frontend/image/clock.webp" alt="Contact icon">
          <p>Open Hours: Mon-Fri 8AM–5PM<br>Saturday – Sunday: Closed</p>
        </div>
  </div>
  </div>
</footer> 

<script>
    class Calendar {
            constructor() {
                this.currentDate = new Date();
                this.selectedDate = null;
                this.selectedTimeSlot = null;
                
                this.monthNames = [
                    'January', 'February', 'March', 'April', 'May', 'June',
                    'July', 'August', 'September', 'October', 'November', 'December'
                ];
                
                this.timeSlots = [
                    { time: '8:00 AM', available: true },
                    { time: '9:00 AM', available: true },
                    { time: '10:00 AM', available: true },
                    { time: '11:00 AM', available: true },
                    { time: '12:00 PM', available: false, isBreak: true },
                    { time: '1:00 PM', available: true },
                    { time: '2:00 PM', available: true },
                    { time: '3:00 PM', available: true },
                    { time: '4:00 PM', available: true },
                    { time: '5:00 PM', available: true }
                ];
                
                this.init();
            }
            
            init() {
                this.renderCalendar();
                this.bindEvents();
            }
            
            bindEvents() {
                document.getElementById('prevBtn').addEventListener('click', () => this.prevMonth());
                document.getElementById('nextBtn').addEventListener('click', () => this.nextMonth());
                document.getElementById('exitBtn').addEventListener('click', () => this.hideTimeSlots());
                
                document.getElementById('daysGrid').addEventListener('click', (e) => {
                    if (e.target.classList.contains('day') && 
                        !e.target.classList.contains('other-month') && 
                        !e.target.classList.contains('previous')) {
                        this.selectDate(e.target);
                    }
                });
                
                document.getElementById('timeSlots').addEventListener('click', (e) => {
                    const timeSlot = e.target.closest('.time-slot');
                    if (timeSlot && !timeSlot.classList.contains('break')) {
                        this.selectTimeSlot(timeSlot);
                    }
                });
            }
            
            renderCalendar() {
                const year = this.currentDate.getFullYear();
                const month = this.currentDate.getMonth();
                
                document.getElementById('monthYear').textContent = 
                    `${this.monthNames[month]} ${year}`;
                
                const firstDay = new Date(year, month, 1).getDay();
                const daysInMonth = new Date(year, month + 1, 0).getDate();
                const daysInPrevMonth = new Date(year, month, 0).getDate();
                
                const daysGrid = document.getElementById('daysGrid');
                daysGrid.innerHTML = '';
                
                const today = new Date();
                const isCurrentMonth = today.getFullYear() === year && today.getMonth() === month;
                const todayDate = today.getDate();
                
                for (let i = firstDay - 1; i >= 0; i--) {
                    const day = document.createElement('div');
                    day.className = 'day other-month';
                    day.textContent = daysInPrevMonth - i;
                    daysGrid.appendChild(day);
                }
                
                for (let day = 1; day <= daysInMonth; day++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'day';
                    dayElement.textContent = day;

                    
                    
                    if (isCurrentMonth && day === todayDate) {
                        dayElement.classList.add('today');
                    }
                    
                    if (isCurrentMonth && day < todayDate) {
                        dayElement.classList.add('previous');
                    }
                    
                     const checkDay = new Date(year, month, day).getDay();
                     if (checkDay === 0 || checkDay === 6) {
                     dayElement.classList.add('disabled');
                     }
                    
                    if (this.selectedDate && 
                        this.selectedDate.getFullYear() === year &&
                        this.selectedDate.getMonth() === month &&
                        this.selectedDate.getDate() === day) {
                        dayElement.classList.add('selected');
                    }
                    
                    daysGrid.appendChild(dayElement);
                }
                
                const totalCells = daysGrid.children.length;
                const remainingCells = 42 - totalCells; 
                for (let day = 1; day <= remainingCells; day++) {
                    const dayElement = document.createElement('div');
                    dayElement.className = 'day other-month';
                    dayElement.textContent = day;
                    daysGrid.appendChild(dayElement);
                }
            }
            
            prevMonth() {
                this.currentDate.setMonth(this.currentDate.getMonth() - 1);
                this.renderCalendar();
            }
            
            nextMonth() {
                this.currentDate.setMonth(this.currentDate.getMonth() + 1);
                this.renderCalendar();
            }
            
            selectDate(dayElement) {
                document.querySelectorAll('.day.selected').forEach(day => {
                    day.classList.remove('selected');
                });
                
                dayElement.classList.add('selected');
                
                const day = parseInt(dayElement.textContent);
                this.selectedDate = new Date(
                    this.currentDate.getFullYear(),
                    this.currentDate.getMonth(),
                    day
                );
                
                this.showTimeSlots();
            }
            
            showTimeSlots() {
                const container = document.getElementById('timeSlotsContainer');
                const selectedDateElement = document.getElementById('selectedDate');
                                
                const options = { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                };
                selectedDateElement.textContent = this.selectedDate.toLocaleDateString('en-US', options);
                
                this.renderTimeSlots();
                
                container.classList.add('show');
            }
            
            hideTimeSlots() {
                const container = document.getElementById('timeSlotsContainer');
                
                container.classList.remove('show');
                
                document.querySelectorAll('.day.selected').forEach(day => {
                    day.classList.remove('selected');
                });
                
                this.selectedDate = null;
                this.selectedTimeSlot = null;
            }
            
            renderTimeSlots() {
                const timeSlotsContainer = document.getElementById('timeSlots');
                timeSlotsContainer.innerHTML = '';
                
                this.timeSlots.forEach((slot, index) => {
                    const timeSlotElement = document.createElement('div');
                    timeSlotElement.className = 'time-slot';
                    
                    if (slot.isBreak) {
                        timeSlotElement.classList.add('break');
                    }
                    
                    timeSlotElement.innerHTML = `
                        <div class="time-text">${slot.time}</div>
                        <div class="status ${slot.isBreak ? 'break' : ''}">${slot.isBreak ? 'Break' : 'Open'}</div>
                    `;
                    
                    timeSlotElement.setAttribute('data-index', index);
                    timeSlotsContainer.appendChild(timeSlotElement);
                });
            }
            
            selectTimeSlot(timeSlotElement) {
                document.querySelectorAll('.time-slot.selected').forEach(slot => {
                    slot.classList.remove('selected');
                });
                
                timeSlotElement.classList.add('selected');
                
                const index = parseInt(timeSlotElement.getAttribute('data-index'));
                this.selectedTimeSlot = this.timeSlots[index];
                
                console.log('Selected:', this.selectedDate, this.selectedTimeSlot.time);
            }
        }
        
        document.addEventListener('DOMContentLoaded', () => {
            new Calendar();
        });
</script>

</body>
</html>
